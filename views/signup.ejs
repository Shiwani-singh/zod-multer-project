<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Signup</title>
    <link rel="stylesheet" href="/css/style.css">
    <script src="https://unpkg.com/zod@3.22.2/lib/index.umd.min.js"></script>

</head>

<body>
    <%- include("partials/navbar") %>

        <div class="form-container">
            <form action="/signup" data-type="signup" method="POST" enctype="multipart/form-data">
                <h2>Signup</h2>

                <% if (error) { %>
                    <p style="color:red; text-align:center;">
                        <%= error %>
                    </p>
                    <% } %>

                        <input type="text" name="username" id="username" placeholder="Username">
                        <input type="email" name="email" id="email" placeholder="Email">
                        <input type="password" name="password" id="password" placeholder="Password">

                        <div class="toggle">
                            <input type="checkbox" id="togglePassword">
                            <label for="togglePassword">Show Password</label>
                        </div>

                        <input type="file"name="photo" id="photo" accept="image/*">

                        <button type="submit">Signup</button>

                        <% if (success && success.length> 0) { %>
                            <p style="color: green; text-align: center;">
                                <%= success %>
                            </p>
                            <% } %>

                                <% if (error && error.length> 0) { %>
                                    <p style="color: red; text-align: center;">
                                        <%= error %>
                                    </p>
                                    <% } %>
            </form>
        </div>

        <script>
            // Show/hide password
            const toggle = document.getElementById('togglePassword');
            const password = document.getElementById('password');
            toggle.addEventListener('change', () => {
                password.type = toggle.checked ? 'text' : 'password';
            });
        </script>

        <!-- âœ… Include your validation file -->
        <script type="module" src="/client/clientValidation.js"></script>
</body>

</html>